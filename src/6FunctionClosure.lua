---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by wangyu.
--- DateTime: 2019-2-15 18:12
---
---闭合函数： 函数里定义一个函数，这个函数能访问外面函数的局部变量（这种特性也被称为词法域）

local names = { "andy", "lucy", "jack" }
local grades = { andy = 10, lucy = 7, jack = 8 }

function mySort(names, grades)
    table.sort(names, function(n1, n2)
        return grades[n1] < grades[n2]--匿名函数中可以访问外面的传过来的参数grades
    end
    )
end
mySort(names, grades)
for i = 1, #names do
    print(names[i])
end

print("=============")
function myMethod()
    local i = 0
    return function ()--返回的匿名函数能访问外面的变量i
        i = i + 1
        return i
    end
end
local m1 = myMethod()--闭合函数会把外面的i带上一起初始化
print(m1(), m1(), m1())
local m2 = myMethod()--每当重新调用，都会重新初始化一个i
print(m2(), m2())
